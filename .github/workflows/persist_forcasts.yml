name: Persist Forecasts to json

on:
  pull_request:    
    types: closed
    

jobs:
  if_merged:
    if: github.event.pull_request.merged == true
    runs-on: ubuntu-latest
    env:
      PR_NUMBER: ${{ github.event.pull_request.number }}

    steps:
      - uses: actions/checkout@v3
        with:
          ref: ${{ github.event.pull_request.head.sha }}

      # Get changes from pull request 
      # --------------------------------      
      - name: Get changes
        id: get_changed_files
        uses: tj-actions/changed-files@v36

      - name: Trace changes
        run: |
          echo "<<Persist_WF>> Changes: ${{ steps.get_changed_files.outputs.all_changed_files }}"

  just_trace:
    runs-on: ubuntu-latest
    steps:
      - name: traceonly
        run: |
          echo "<<Persist_WF was here >>"
     
